# Last.fm API
LASTFM_USER=
LASTFM_API_KEY=

# YTMusic OAuth file
YTM_AUTH_PATH=browser.json

# Playlist
PLAYLIST_NAME=Last.fm Recents (auto)
MAKE_PUBLIC=false

# Fetch/search behavior
LIMIT=100 # api rate limit is 3k per 24h
DEDUPLICATE=true
USE_ANON_SEARCH=false
CHUNK_SIZE=75

# Search optimization
SLEEP_BETWEEN_SEARCHES=0 # Delay between search queries in seconds (0 = no delay)
EARLY_TERMINATION_SCORE=0.9 # Stop searching when finding matches above this score (0.9 = 90%, 1.0 = disabled)
                            # Higher values = slower but more thorough searching
                            # Lower values = faster but potentially less accurate
SEARCH_MAX_WORKERS=2 # Number of parallel search queries (default: 2, increase for faster searches but higher API load)

# API retry behavior
API_MAX_RETRIES=3 # Number of retry attempts for rate-limited API calls (default: 3)

# Last.fm fetch behavior
LASTFM_MAX_RETRIES=5 # Max retries for Last.fm API calls (default: 5)
LASTFM_MAX_CONSECUTIVE_EMPTY=3 # Stop after this many consecutive pages with no new unique tracks (default: 3)
LASTFM_FORCE_IPV4=true # Force IPv4 connections to Last.fm API (default: true, helps with flaky IPv6)

# Recency weighting
USE_RECENCY_WEIGHTING=true
RECENCY_HALF_LIFE_HOURS=48.0
RECENCY_PLAY_WEIGHT=0.7  # 0.0-1.0: weight for play count vs recency (0.7 = 70% plays, 30% recency)

# Maximum raw scrobbles to fetch when searching for unique tracks
# Set to 0 to fetch entire history if needed. Default: 2000
# Higher values = search further back in history but more API calls
MAX_RAW_SCROBBLES=2000

# Backfill passes to reach target unique track count
# If duplicates prevent reaching LIMIT, fetch more scrobbles and try again
# Set to 0 to disable backfilling (stop after first pass)
# Default: 3 passes (initial + up to 3 additional attempts)
BACKFILL_PASSES=3

# Enable/disable weekly playlists mirror
WEEKLY_ENABLED=true

# Optional override for the weekly playlist base name (defaults to PLAYLIST_NAME without " (auto)")
# Leave empty to auto-derive
WEEKLY_PLAYLIST_PREFIX=

# Weekly privacy (override main). Leave empty to inherit MAKE_PUBLIC.
# If set, use true/false to map to PUBLIC/PRIVATE
WEEKLY_MAKE_PUBLIC=

# Week start day: MON|TUE|WED|THU|FRI|SAT|SUN (or 0..6 where 0=MON)
WEEKLY_WEEK_START=MON

# Timezone for week boundaries (IANA tz, e.g., UTC, America/New_York)
WEEKLY_TIMEZONE=Europe/Berlin

# Retention: keep this many weekly playlists (current + prior = 2). Set 0 to keep all.
WEEKLY_KEEP_WEEKS=0

# Logging level: CRITICAL|ERROR|WARNING|INFO|DEBUG
LOG_LEVEL=INFO

# Directory paths (optional - defaults to subdirectories in project root)
# CACHE_DIR=cache # Directory for cache files
# CONFIG_DIR=config # Directory for config files

# Cache file paths (relative to project root or absolute paths)
# These default to CACHE_DIR/.playlist_cache.json, CACHE_DIR/.search_cache.json, and CONFIG_DIR/search_overrides.json
CACHE_PLAYLIST_FILE=yt_cache/.playlist_cache.json
CACHE_SEARCH_FILE=yt_cache/.search_cache.json
CACHE_OVERRIDES_FILE=config/search_overrides.json
CACHE_SEARCH_TTL_DAYS=30 # Days before search cache entries expire (0 = never expire)
CACHE_NOTFOUND_TTL_DAYS=7 # Days before "not found" entries expire and are re-searched (0 = don't cache not-found)
