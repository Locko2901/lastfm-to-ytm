# ============================================================================
# CREDENTIALS (Required)
# ============================================================================

# Last.fm API - Get yours at https://www.last.fm/api/account/create
LASTFM_USER=
LASTFM_API_KEY=

# YouTube Music auth
YTM_AUTH_PATH=browser.json

# ============================================================================
# MAIN PLAYLIST
# ============================================================================

PLAYLIST_NAME=Last.fm Recents (auto)
MAKE_PUBLIC=false
LIMIT=100                    # Target number of tracks (API rate limit: ~3k/day)
DEDUPLICATE=true             # Remove duplicate tracks

# ============================================================================
# TRACK RANKING
# ============================================================================

USE_RECENCY_WEIGHTING=true   # Rank by play count + recency (false = most recent first)
RECENCY_HALF_LIFE_HOURS=48.0 # How fast recency decays (lower = favor newer tracks)
RECENCY_PLAY_WEIGHT=0.7      # Balance: 0.0 = pure recency, 1.0 = pure play count

# ============================================================================
# WEEKLY PLAYLISTS
# ============================================================================

WEEKLY_ENABLED=true
WEEKLY_WEEK_START=MON        # MON|TUE|WED|THU|FRI|SAT|SUN
WEEKLY_TIMEZONE=Europe/Berlin
WEEKLY_KEEP_WEEKS=0          # How many weeks to keep (0 = keep all)
WEEKLY_PLAYLIST_PREFIX=      # Override name (empty = derive from PLAYLIST_NAME)
WEEKLY_MAKE_PUBLIC=          # Override privacy (empty = inherit MAKE_PUBLIC)

# ============================================================================
# SEARCH BEHAVIOR
# ============================================================================

USE_ANON_SEARCH=true         # Use anonymous YTM client for searches (recommended)
EARLY_TERMINATION_SCORE=0.9  # Stop search early if match score exceeds this (0.0-1.0)
SLEEP_BETWEEN_SEARCHES=0     # Delay between searches in seconds
SEARCH_MAX_WORKERS=2         # Parallel search threads (higher = faster but more API load)

# ============================================================================
# BACKFILL (Fetching more tracks when duplicates reduce count)
# ============================================================================

MAX_RAW_SCROBBLES=2000       # Max scrobbles to fetch (0 = unlimited)
BACKFILL_PASSES=3            # Additional fetch attempts if below LIMIT (0 = disabled)

# ============================================================================
# CACHING
# ============================================================================

CACHE_PLAYLIST_FILE=yt_cache/.playlist_cache.json
CACHE_SEARCH_FILE=yt_cache/.search_cache.json
CACHE_OVERRIDES_FILE=config/search_overrides.json
CACHE_SEARCH_TTL_DAYS=30     # Days before cached searches expire (0 = never)
CACHE_NOTFOUND_TTL_DAYS=7    # Days before "not found" results are retried (0 = don't cache)

# ============================================================================
# RELIABILITY & RETRIES
# ============================================================================

API_MAX_RETRIES=3            # YTM API retry attempts (exponential backoff)
LASTFM_MAX_RETRIES=5         # Last.fm API retry attempts
LASTFM_MAX_CONSECUTIVE_EMPTY=3  # Stop after N pages with no new tracks
LASTFM_FORCE_IPV4=true       # Force IPv4 (helps with flaky Last.fm IPv6)

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=INFO               # CRITICAL|ERROR|WARNING|INFO|DEBUG
